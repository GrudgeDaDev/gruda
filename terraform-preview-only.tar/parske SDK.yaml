        // Initialize Parse SDK
        Parse.initialize('gweV5ZdFH1KoB5UjbMWaL1p3ibrWwP60x3h209wN', 'tkhLbN9t0i0z31FTjYQySkrgPNgjoUWbOSQ3FWxd');
        Parse.serverURL = 'https://parseapi.back4app.com/';

        const cardSchema = {
            className: "Cards",
            type: "custom",
            fields: {
                cardId: { type: "String" },
                name: { type: "String" },
                type: { type: "String" },
                atk: { type: "Number" },
                hp: { type: "Number" },
                cost: { type: "Number" },
                description: { type: "String" },
                image: { type: "String" },
                tribe: { type: "String" },
                specialTrait: { type: "String" },
                startingAmount: { type: "Number" }
            },
            data: cards
    };
    const cards = [
            { cardId: "001", name: "Stealth Drone", type: "minion", atk: 1, hp: 1, cost: 1, description: "Quick scouting unit cloaked in shadow.", image: "https://i.imgur.com/zMFckYB.png", startingAmount: 2 },
            { cardId: "002", name: "A Coward Priest", type: "minion", atk: 1, hp: 1, cost: 1, description: "Basic reconnaissance unit.", image: "https://i.imgur.com/DHS25YU.jpeg", startingAmount: 2 },
            { cardId: "003", name: "Starborn Light", type: "minion", atk: 1, hp: 1, cost: 1, description: "Summons structures.", image: "https://i.imgur.com/AvsiFog.png", startingAmount: 2 },
            { cardId: "004", name: "Arcane Mystic", type: "minion", atk: 2, hp: 3, cost: 2, description: "Casts arcane spells with finesse.", image: "https://i.imgur.com/Enu1T7Y.png", startingAmount: 2 },
            { cardId: "005", name: "Alpha Skiff", type: "minion", atk: 1, hp: 2, cost: 2, description: "On play: Deal 2 damage to an enemy.", image: "https://i.imgur.com/z1fbkXx.png", startingAmount: 2 },
            { cardId: "006", name: "Orcish Sniper", type: "minion", atk: 2, hp: 1, cost: 2, description: "Ranged attacker.", image: "https://i.imgur.com/nlkfMpI.png", startingAmount: 2 },
            { cardId: "007", name: "Mace Assassin", type: "minion", atk: 4, hp: 2, cost: 3, description: "Strikes with venomous precision.", image: "https://i.imgur.com/3SkE6VG.png", startingAmount: 2 },
            { cardId: "008", name: "Swarm Legion", type: "minion", atk: 3, hp: 3, cost: 3, description: "Overruns the enemy in numbers.", image: "https://i.imgur.com/Wn84v6I.png", startingAmount: 2 },
            { cardId: "009", name: "Ethereal Phantom", type: "minion", atk: 2, hp: 3, cost: 3, description: "Haunts the battlefield.", image: "https://i.imgur.com/v0RBTiV.png", startingAmount: 2 },
            { cardId: "010", name: "Crimson Shade", type: "minion", atk: 2, hp: 3, cost: 3, description: "Burns with crimson energy.", image: "https://i.imgur.com/36iR3J8.png", startingAmount: 2 },
            { cardId: "011", name: "Logs Much", type: "minion", atk: 2, hp: 3, cost: 3, description: "Wooden with Steel presence.", image: "https://i.imgur.com/PFbnxct.png", startingAmount: 2 },
            { cardId: "012", name: "Luminous Watcher", type: "minion", atk: 2, hp: 3, cost: 3, description: "Heals all for 1 each turn.", image: "https://i.imgur.com/eg8FESL.png", startingAmount: 2 },
            { cardId: "013", name: "Patrol Frigate", type: "minion", atk: 2, hp: 3, cost: 3, description: "Standard patrol vessel.", image: "https://i.imgur.com/nJMY8NA.png", startingAmount: 2 },
            { cardId: "014", name: "Battle Commander", type: "minion", atk: 2, hp: 4, cost: 3, description: "Leads the charge.", image: "https://i.imgur.com/ABsno64.png", startingAmount: 2 },
            { cardId: "015", name: "Night Wraith", type: "minion", atk: 4, hp: 3, cost: 4, description: "Strikes from the shadows.", image: "https://i.imgur.com/PSpj7sO.png", startingAmount: 1 },
            { cardId: "016", name: "Night Lord", type: "minion", atk: 4, hp: 3, cost: 4, description: "Roams from the shadows.", image: "https://i.imgur.com/qpsLIcS.png", startingAmount: 1 },
            { cardId: "017", name: "Crimson Revenant", type: "minion", atk: 4, hp: 3, cost: 4, description: "Strikes with fiery intent.", image: "https://i.imgur.com/8YIqCl5.png", startingAmount: 1 },
            { cardId: "018", name: "Emerald Stalker", type: "minion", atk: 4, hp: 3, cost: 4, description: "Strikes with emerald fury.", image: "https://i.imgur.com/5t6kGOi.jpeg", startingAmount: 1 },
            { cardId: "019", name: "Storm Cavalier", type: "minion", atk: 4, hp: 4, cost: 4, description: "Rides the storm into battle.", image: "https://i.imgur.com/nBUKWdy.png", startingAmount: 1 },
            { cardId: "020", name: "Flame Charger", type: "minion", atk: 4, hp: 4, cost: 4, description: "Charges with fiery speed.", image: "https://i.imgur.com/cep6ytB.png", startingAmount: 1 },
            { cardId: "021", name: "Ra Cal Vin", type: "minion", atk: 4, hp: 4, cost: 4, description: "Glides with icy Language.", image: "https://i.imgur.com/XbSuPyC.png", startingAmount: 1 },
            { cardId: "022", name: "Beta Cruiser", type: "minion", atk: 3, hp: 3, cost: 4, description: "On play: Deal 5 damage to an enemy.", image: "https://i.imgur.com/JuxTEX9.png", startingAmount: 1 },
            { cardId: "023", name: "Enigmatic Warrior", type: "minion", atk: 3, hp: 3, cost: 4, description: "Mysterious combatant.", image: "https://i.imgur.com/JwcxWth.png", startingAmount: 1 },
            { cardId: "024", name: "Barrier Sentinel", type: "minion", atk: 0, hp: 7, cost: 5, description: "Unyielding defense with Taunt.", image: "https://i.imgur.com/klAa6aX.png", startingAmount: 1 },
            { cardId: "025", name: "Void Sorcerer", type: "minion", atk: 3, hp: 4, cost: 5, description: "Casts protective dark magic.", image: "https://i.imgur.com/2XhqS6d.png", startingAmount: 1 },
            { cardId: "026", name: "Light Mage", type: "minion", atk: 3, hp: 4, cost: 5, description: "Shields with radiant magic.", image: "https://i.imgur.com/cMLK4Oq.png", startingAmount: 1 },
            { cardId: "027", name: "Spectral Warrior", type: "minion", atk: 5, hp: 4, cost: 5, description: "Fights with ghostly strength.", image: "https://i.imgur.com/n2b1ugT.png", startingAmount: 1 },
            { cardId: "028", name: "Radiant Paladin", type: "minion", atk: 5, hp: 4, cost: 5, description: "Shines with radiant power.", image: "https://i.imgur.com/TalRqz3.png", startingAmount: 1 },
            { cardId: "029", name: "Vitality Totem", type: "minion", atk: 3, hp: 5, cost: 5, description: "Heals all for 2 each turn.", image: "https://i.imgur.com/SAL2oQY.png", startingAmount: 1 },
            { cardId: "030", name: "Ironclad Titan", type: "minion", atk: 4, hp: 4, cost: 5, description: "Heavy armored enforcer.", image: "https://i.imgur.com/yUzjTDm.png", startingAmount: 1 },
            { cardId: "031", name: "Overlord Mind", type: "minion", atk: 4, hp: 4, cost: 5, description: "Taunt.", image: "https://i.imgur.com/LspYMpz.png", startingAmount: 1 },
            { cardId: "032", name: "Celestial Warden", type: "minion", atk: 5, hp: 5, cost: 6, description: "Heals all for 1 each turn.", image: "https://i.imgur.com/6CXJn5s.png", startingAmount: 0 },
            { cardId: "033", name: "Abyssal Keeper", type: "minion", atk: 5, hp: 5, cost: 6, description: "Heals all with dark energy.", image: "https://i.imgur.com/3b2RmGQ.png", startingAmount: 0 },
            { cardId: "034", name: "Arcane Missile", type: "spell", cost: 1, description: "Deal 3 damage to a random enemy.", image: "https://i.imgur.com/jQbF07m.png", startingAmount: 1 },
            { cardId: "035", name: "Shadow Strike", type: "spell", cost: 2, description: "Deal 4 damage to a target enemy.", image: "https://i.imgur.com/oPFVuMN.png", startingAmount: 1 },
            { cardId: "036", name: "Healing Wave", type: "spell", cost: 3, description: "Restore 6 health to a friendly character.", image: "https://i.imgur.com/PgLXUx8.png", startingAmount: 1 },
            { cardId: "037", name: "Mind Control", type: "spell", cost: 8, description: "Take control of an enemy minion.", image: "https://i.imgur.com/dC1AKPu.png", startingAmount: 0 },
            { cardId: "038", name: "Starship Alpha", type: "minion", atk: 2, hp: 2, cost: 2, description: "Stealth. Gains +1 atk in space-themed games.", image: "https://i.imgur.com/scyPIUs.png", startingAmount: 1 },
            { cardId: "039", name: "Star Hut", type: "minion", atk: 0, hp: 5, cost: 3, description: "Taunt. Heals adjacent allies for 1 in Island.", image: "https://i.imgur.com/TCYVocs.png", startingAmount: 1 },
            { cardId: "040", name: "Engineer Prime", type: "minion", atk: 4, hp: 4, cost: 6, description: "Super Rare. On play: Give all allies +2 atk in Warlords.", image: "https://i.imgur.com/KpHvcmW.mp4", startingAmount: 0 },
            { cardId: "041", name: "Starship Beta", type: "minion", atk: 3, hp: 3, cost: 4, description: "Deals +2 damage to structures in RTS.", image: "https://i.imgur.com/BSurWbZ.png", startingAmount: 1 },
            { cardId: "042", name: "Starship Gamma", type: "minion", atk: 2, hp: 4, cost: 4, description: "Heals allies for 1 in Crawl.", image: "https://i.imgur.com/5PSOVVc.png", startingAmount: 1 },
            { cardId: "043", name: "Star Cruiser", type: "minion", atk: 6, hp: 5, cost: 7, description: "On play: Deal 3 damage to all enemies in Battle.", image: "https://i.imgur.com/Ldfm3An.png", startingAmount: 0 },
            { cardId: "044", name: "Fireball", type: "spell", cost: 4, description: "Deal 6 damage to a target. +2 damage in Warlords.", image: "https://i.imgur.com/V1HCiAI.jpg", startingAmount: 1 },
            { cardId: "045", name: "Undead", type: "minion", atk: 3, hp: 3, cost: 3, description: "Grants Undead Hardcore Island character. +1 hp in Island.", image: "https://i.imgur.com/8YIqCl5.png", startingAmount: 0 },
            { cardId: "046", name: "Human", type: "minion", atk: 3, hp: 3, cost: 3, description: "Grants Human Hardcore Island character. +1 atk in Warlords.", image: "https://i.imgur.com/0XcU175.png", startingAmount: 0 },
            { cardId: "047", name: "Orc", type: "minion", atk: 4, hp: 2, cost: 3, description: "Grants Orc Hardcore Island character. Haste in Battle.", image: "https://i.imgur.com/nlkfMpI.png", startingAmount: 0 },
            { cardId: "048", name: "Elf", type: "minion", atk: 2, hp: 4, cost: 3, description: "Grants Elf Hardcore Island character. +1 cost reduction in Crawl.", image: "https://i.imgur.com/6CXJn5s.png", startingAmount: 0 },
            { cardId: "049", name: "Dwarf", type: "minion", atk: 3, hp: 3, cost: 3, description: "Grants Dwarf Hardcore Island character. +2 hp in Tower.", image: "https://i.imgur.com/nBUKWdy.png", startingAmount: 0 },
            { cardId: "050", name: "Barbarian", type: "minion", atk: 4, hp: 2, cost: 3, description: "Grants Barbarian strength.", image: "https://i.imgur.com/example.png", startingAmount: 1 },
            { cardId: "052", name: "Scourge Warrior", type: "minion", atk: 4, hp: 3, cost: 4, description: "Dark warrior with a cursed blade.", image: "https://i.imgur.com/NFjvmxO.png", startingAmount: 1 },
            { cardId: "053", name: "Orc NB", type: "minion", atk: 2, hp: 2, cost: 2, description: "Stealthy orc scout.", image: "https://i.imgur.com/zMFckYB.png", startingAmount: 2 },
            { cardId: "054", name: "Barbarian Mace", type: "minion", atk: 4, hp: 2, cost: 3, description: "Barbarian wielding a heavy mace.", image: "https://i.imgur.com/3SkE6VG.png", startingAmount: 2 },
            { cardId: "055", name: "Human NB", type: "minion", atk: 3, hp: 4, cost: 4, description: "Versatile human defender with a shield.", image: "https://i.imgur.com/klAa6aX.png", startingAmount: 1 },
            { cardId: "056", name: "Dwarf", type: "minion", atk: 3, hp: 5, cost: 4, description: "Sturdy dwarf with a hammer.", image: "https://i.imgur.com/Wn84v6I.png", startingAmount: 1 },
            { cardId: "057", name: "Elf Archer", type: "minion", atk: 3, hp: 2, cost: 3, description: "Precise elf archer with a bow.", image: "https://i.imgur.com/Enu1T7Y.png", startingAmount: 2 },
            { cardId: "058", name: "Knight", type: "minion", atk: 5, hp: 5, cost: 6, description: "Armored knight with a greatsword.", image: "https://i.imgur.com/s0cMpSi.png", startingAmount: 0 },
            { cardId: "059", name: "Dwarf Knight NB", type: "minion", atk: 4, hp: 5, cost: 5, description: "Heavily armored dwarf knight.", image: "https://i.imgur.com/TalRqz3.png", startingAmount: 1 },
            { cardId: "060", name: "Yorda", type: "minion", atk: 5, hp: 4, cost: 6, description: "Bats with thunderous force.", image: "https://i.imgur.com/UvZsOLQ.png", startingAmount: 0 },
            { cardId: "061", name: "Magician NB", type: "minion", atk: 3, hp: 3, cost: 4, description: "Casts arcane spells with a staff.", image: "https://i.imgur.com/PSpj7sO.png", startingAmount: 1 },
            { cardId: "062", name: "Calvin", type: "minion", atk: 4, hp: 4, cost: 4, description: "Glides with icy magic.", image: "https://i.imgur.com/XbSuPyC.png", startingAmount: 1 },
            { cardId: "063", name: "NB Undead", type: "minion", atk: 3, hp: 3, cost: 3, description: "Undead soldier with enduring spirit.", image: "https://i.imgur.com/8YIqCl5.png", startingAmount: 1 },
            { cardId: "064", name: "NB Human Wizard", type: "minion", atk: 3, hp: 3, cost: 4, description: "Human wizard casting powerful spells.", image: "https://i.imgur.com/0XcU175.png", startingAmount: 1 },
            { cardId: "065", name: "Human Archer NB", type: "minion", atk: 3, hp: 2, cost: 3, description: "Human archer with deadly aim.", image: "https://i.imgur.com/jKE3ClI.png", startingAmount: 2 },
            { cardId: "066", name: "Undead NB", type: "minion", atk: 2, hp: 4, cost: 3, description: "Undead warrior with a shield.", image: "https://i.imgur.com/XJ8Saun.png", startingAmount: 2 },
            { cardId: "067", name: "NB Undead Archer", type: "minion", atk: 3, hp: 2, cost: 3, description: "Undead archer with ghostly arrows.", image: "https://i.imgur.com/fGDbB5o.png", startingAmount: 2 },
            { cardId: "068", name: "Barrel Weapon", type: "minion", atk: 2, hp: 3, cost: 3, description: "Explosive barrel used as a weapon.", image: "https://i.imgur.com/PFbnxct.png", startingAmount: 2 },
            { cardId: "069", name: "Orc Archer NB", type: "minion", atk: 3, hp: 2, cost: 3, description: "Orc archer with a heavy bow.", image: "https://i.imgur.com/nlkfMpI.png", startingAmount: 2 },
            { cardId: "070", name: "Priest NB", type: "minion", atk: 2, hp: 4, cost: 4, description: "Heals allies with divine light.", image: "https://i.imgur.com/6CXJn5s.png", startingAmount: 1 },
            { cardId: "071", name: "Paladin NB", type: "minion", atk: 5, hp: 5, cost: 6, description: "Protects with holy power.", image: "https://i.imgur.com/3b2RmGQ.png", startingAmount: 0 },
            { cardId: "072", name: "Orc Heavy", type: "minion", atk: 5, hp: 4, cost: 5, description: "Heavy orc with a massive axe.", image: "https://i.imgur.com/cep6ytB.png", startingAmount: 1 },
            { cardId: "073", name: "Human Heavy", type: "minion", atk: 4, hp: 5, cost: 5, description: "Heavily armored human warrior.", image: "https://i.imgur.com/UT8Yfo2.png", startingAmount: 1 },
            { cardId: "074", name: "Undead Heavy", type: "minion", atk: 4, hp: 5, cost: 5, description: "Undead giant with a spiked club.", image: "https://i.imgur.com/9Prc8Md.png", startingAmount: 1 },
            { cardId: "075", name: "WareTree", type: "minion", atk: 3, hp: 6, cost: 5, description: "Living tree that attacks with roots.", image: "https://i.imgur.com/gA5V2vd.png", startingAmount: 1 },
            { cardId: "076", name: "Small Troll", type: "minion", atk: 3, hp: 3, cost: 3, description: "Small troll with regenerative powers.", image: "https://i.imgur.com/R5AKvO4.png", startingAmount: 2 },
            { cardId: "077", name: "Human Upgrade", type: "minion", atk: 4, hp: 4, cost: 5, description: "Upgraded human with enhanced armor.", image: "https://i.imgur.com/9lhozCz.png", startingAmount: 1 },
            { cardId: "078", name: "Dwarf Heavy", type: "minion", atk: 4, hp: 6, cost: 5, description: "Heavy dwarf with a warhammer.", image: "https://i.imgur.com/oGautmG.png", startingAmount: 1 },
            { cardId: "079", name: "Scourge Familiar", type: "minion", atk: 2, hp: 2, cost: 2, description: "Dark familiar that boosts spells.", image: "https://i.imgur.com/FcwHTwA.png", startingAmount: 2 },
            { cardId: "080", name: "Faitherbearer", type: "minion", atk: 5, hp: 5, cost: 6, description: "Bearer of faith with divine strength.", image: "https://i.imgur.com/ENXGMbn.jpg", startingAmount: 0 },
            { cardId: "081", name: "Explosion 2", type: "spell", cost: 5, description: "Deal 8 damage to a target and 2 to adjacent enemies.", image: "https://i.imgur.com/vUfG5PJ.png", startingAmount: 1 },
            { cardId: "082", name: "Explosion 1", type: "spell", cost: 3, description: "Deal 5 damage to a target and 1 to adjacent enemies.", image: "https://i.imgur.com/lAUM1L7.png", startingAmount: 1 },
            { cardId: "083", name: "Spell Ball", type: "spell", cost: 2, description: "Deal 3 damage to a random enemy and draw a card.", image: "https://i.imgur.com/1iicyne.png", startingAmount: 1 },
            { cardId: "084", name: "Fire Swirl", type: "spell", cost: 4, description: "Deal 4 damage to all enemies.", image: "https://i.imgur.com/dramBbf.png", startingAmount: 1 },
            { cardId: "085", name: "Fire Ball", type: "spell", cost: 4, description: "Deal 6 damage to a target.", image: "https://i.imgur.com/KfE0K3N.png", startingAmount: 1 },
            { cardId: "086", name: "Purple Swipe", type: "spell", cost: 3, description: "Deal 4 damage and reduce target atk by 1.", image: "https://i.imgur.com/X4uVLBC.png", startingAmount: 1 },
            { cardId: "087", name: "Sword", type: "spell", cost: 2, description: "Give a minion +2 atk this turn.", image: "https://i.imgur.com/u95mHRc.png", startingAmount: 1 },
            { cardId: "088", name: "Pick Axe Efforts", type: "spell", cost: 3, description: "Deal 3 damage and gain 2 armor.", image: "https://i.imgur.com/OaIxVfq.png", startingAmount: 1 },
            { cardId: "089", name: "Book", type: "spell", cost: 1, description: "Draw 2 cards.", image: "https://i.imgur.com/LhKeIUk.png", startingAmount: 1 },
            { cardId: "090", name: "Light", type: "spell", cost: 2, description: "Restore 4 health to a friendly character.", image: "https://i.imgur.com/8fYU7nG.png", startingAmount: 1 },
            { cardId: "091", name: "Light 2", type: "spell", cost: 3, description: "Restore 6 health to a friendly character.", image: "https://i.imgur.com/FGmWArp.png", startingAmount: 1 },
            { cardId: "092", name: "Arcane", type: "spell", cost: 5, description: "Deal 5 damage to a target and stun it.", image: "https://i.imgur.com/dU3QrVi.png", startingAmount: 1 },
            { cardId: "093", name: "Mystic Green", type: "spell", cost: 4, description: "Restore 5 health to all friendly characters.", image: "https://i.imgur.com/ra2S7o0.png", startingAmount: 1 },
            { cardId: "094", name: "Red Skull Magic", type: "spell", cost: 6, description: "Deal 6 damage to a target and summon a 2/2 skull.", image: "https://i.imgur.com/KjBYZ7L.png", startingAmount: 0 },
            { cardId: "095", name: "Green Skull Magic", type: "spell", cost: 6, description: "Deal 5 damage to a target and heal for 5.", image: "https://i.imgur.com/dWpBsru.png", startingAmount: 0 },
            { cardId: "096", name: "Small Building", type: "minion", atk: 0, hp: 5, cost: 3, description: "Taunt. Defensive structure for RTS.", image: "https://i.imgur.com/LouhX6b.png", startingAmount: 1 },
            { cardId: "097", name: "Summoning Tower", type: "minion", atk: 2, hp: 4, cost: 4, description: "On play: Summon a 1/1 spirit in Crawl.", image: "https://i.imgur.com/aBeF0N8.png", startingAmount: 1 },
            { cardId: "098", name: "Armory", type: "minion", atk: 0, hp: 6, cost: 5, description: "Taunt. Gives +1 atk to summoned minions in RTS.", image: "https://i.imgur.com/4TFvg1K.png", startingAmount: 1 },
            { cardId: "099", name: "Hero Hall", type: "minion", atk: 0, hp: 7, cost: 6, description: "Taunt. Boosts hero atk by 2 in Warlords.", image: "https://i.imgur.com/H0EAefW.png", startingAmount: 0 },
            { cardId: "100", name: "Farm", type: "minion", atk: 0, hp: 4, cost: 3, description: "At end of turn: Gain 1 GBuX in Island.", image: "https://i.imgur.com/U2pPssy.png", startingAmount: 1 }
            ]
    // Ethereal Effects
    const EtherealEffects = {
        statBoost: "Grants +1/+1 to base stats and adds ethereal visual effects",
        costReduction: "Reduces mana cost by 1 and adds ethereal visual effects",
        specialAbility: "Adds a unique ability and ethereal visual effects",
        doubleAttack: "Can attack twice per turn with ethereal energy",
        shield: "First instance of damage each turn is negated by ethereal shield"
    };

    // Ensure this is the only declaration of allCards
    const playerCards = season0Cards.map(card => {
        const tribedCard = assignTribe({ ...card });
        const rareCard = assignSpecialTrait(tribedCard);
        return rareCard;
        });
        return {
            ...card,
            etherealEffect: etherealEffects.statBoost, // Example effect
            etherealVisual: "https://i.imgur.com/ethereal.png" // Example visual
        };


        function assignTribe(card) {
            const tribes = ["Silver", "Red", "Purple", "Orange", "Signature"];
            card.tribe = tribes[Math.floor(Math.random() * tribes.length)];
            return card;
        }
        function assignSpecialTrait(card) {
            const specialTraits = ["Rare", "Epic", "Legendary"];
            card.specialTrait = specialTraits[Math.floor(Math.random() * specialTraits.length)];
            return card;
        }

        // User Collection (cards user owns = opened, earned, bought, made)
        let TotaluserCollection = [...UserCards, userCollection].reduce((acc, card) => {
            const existingCard = acc.find(c => c.cardId === card.cardId);
            if (existingCard) {
                existingCard.startingAmount += card.startingAmount;
            } else {
                acc.push({ ...card });
            }
            return acc;
        }, []);
    </script>